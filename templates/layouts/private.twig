<!doctype html>
<html class="no-js" lang="{{ lang }}">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <!-- Page Title Here -->
        <title>Gemini</title>
        <!-- Page Description Here -->
        <meta name="description" content="Gemini, el sistema de gestión de eventos definitivo">
        <!-- Disable screen scaling-->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="apple-touch-icon" href="/apple-touch-icon.png">

        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.44/css/bootstrap-datetimepicker.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2-bootstrap-css/1.4.6/select2-bootstrap.min.css">
        <!-- Main CSS files -->
        <link rel="stylesheet" href="{{ base_url() }}/css/main.css">

        <!--[if lt IE 9]>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>

    <body>
        <nav class="navbar navbar-inverse navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="{{ path_for('home') }}">Gemini</a>
                </div>
                <div id="navbar" class="navbar-collapse collapse">
                    <form class="navbar-form navbar-right" action="{{ path_for('project.search') }}" method="GET">
                        <input type="text" class="form-control" name="q" placeholder="Buscar…" value="{{ q }}">
                    </form>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="{{ path_for('dashboard') }}">
                                <i class="fa fa-tachometer" aria-hidden="true"></i> Escritorio
                            </a>
                        </li>
                        <li>
                            <a href="{{ path_for('auth.settings') }}">
                                <i class="fa fa-cogs" aria-hidden="true"></i> Configuración
                            </a>
                        </li>
                        <li>
                            <a href="{{ path_for('auth.signout') }}">
                                <i class="fa fa-sign-out" aria-hidden="true"></i> Salir
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="container-fluid">
            <div class="row">
                <aside class="col-sm-3 col-md-2 sidebar">
                    <ul class="nav nav-sidebar">
                        <li>
                            <a href="{{ path_for('project.inprogress') }}"><i class="fa fa-odnoklassniki-square" aria-hidden="true"></i> Mis proyectos</a>
                        </li>
                        <li>
                            <a href="{{ path_for('project.completed') }}"><i class="fa fa-check-square-o" aria-hidden="true"></i> Proyectos finalizados</a>
                        </li>
                        <li>
                            <a href="{{ path_for('project.billed') }}"><i class="fa fa-money" aria-hidden="true"></i> Proyectos facturados</a>
                        </li>
                    </ul>
                    <hr>
                    <ul class="nav nav-sidebar">
                        <li>
                            <a href="{{ path_for('task.inprogress') }}"><i class="fa fa-gg-circle" aria-hidden="true"></i> Tareas pendientes</a>
                        </li>
                        <li>
                            <a href="{{ path_for('task.completed') }}"><i class="fa fa-check-circle-o" aria-hidden="true"></i> Tareas completadas</a>
                        </li>
                        <li>
                            <a href="{{ path_for('task.unnasigned') }}"><i class="fa fa-user-circle" aria-hidden="true"></i> Tareas sin asignar</a>
                        </li>
                    </ul>
                </aside>

                <main class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
                    {% include 'partials/breadcrumbs.twig' %}

                    {% block content %}{% endblock %}

                    <footer>
                        <hr>
                        <p class="text-center"><small>© Expomark {{ "now" | date("Y") }}. Todos los derechos reservados.</small></p>
                    </footer>
                </main>
            </div>
        </div>

        <!-- All Javascript plugins goes here -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <!-- Bootstrap -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <!-- Javascript custom files -->
        {% block scripts %}{% endblock %}
        <!-- Javascript main files -->
        <script>
(function () {
"use strict";

var num_of_hearts = 7;
var driftX = 2; // each frame, drift left/right this much
var driftY = 8;
var update_speed = 100; // millisecond

var heartTypes=["♥","💕","💓","💔","💖","💗","💘","💝","💞","💟","💙","💚","💛","💜"];

var viewportWidth = document.documentElement.clientWidth;
var viewportHeight = document.documentElement.clientHeight;

var viewSpaceWidth = Math.floor(viewportWidth* 1.1);
var viewSpaceHeight = Math.floor(viewportHeight * 1.1);

function randomInt(xmin,xmax) { return Math.floor( Math.random() * (xmax + 1 - xmin) + xmin ); }
function randomReal(xmin,xmax) { return Math.random() * (xmax - xmin) + xmin ; }

function randomColor() { return [randomInt(0,360),randomInt(70,100),randomInt(40,60),randomReal(.2,1)]; }

function restartHeart(el) {
    el.innerHTML= heartTypes[Math.floor( Math.random() * heartTypes.length )];
    el.posX=randomInt(0, viewSpaceWidth);
    el.posY=-50;
    el.size= 20 * (1+Math.random());
    var rColor = randomColor();
    el.style.color="hsla" + "(" +
        rColor[0] + "," +
        rColor[1] + "%," +
        rColor[2] + "%," +
        rColor[3] + ")";
    el.style.left= el.posX + "px";
    el.style.top= el.posY + "px";
    el.style.fontSize = el.size + "px";}

var heart_container = document.createElement("div");
heart_container.setAttribute("id","heart_container");

(function () { // create hearts
var hearts = new Array(num_of_hearts);
for (var i=0; i < hearts.length; i++) {
    var el = document.createElement("div");
    restartHeart(el);
    el.style.position="fixed";
    el.style.zIndex=i+100;
    heart_container.appendChild(el);
} })();

document.body.appendChild(heart_container);

var heartNodes = document.getElementById("heart_container").childNodes;

function update_positions () {

    for (var i = 0; i < heartNodes.length; i++) {
        var thisHeart = heartNodes[i];

        thisHeart.posX += (function () {
            var rnd = Math.random();
            if ( rnd < 0.3333 ) {
                return 0;
            } else if ( rnd < 0.6666) {
                return driftX;}
            else {
                return - driftX;
            }
        })();

        thisHeart.posY = thisHeart.posY + ( (thisHeart.size/20) * (driftY) );

         if ( thisHeart.posY > viewSpaceHeight ) {
            restartHeart(thisHeart);
        } else {
             thisHeart.posY = thisHeart.posY % viewSpaceHeight; };

        thisHeart.style.left = thisHeart.posX + "px";
        thisHeart.style.top= thisHeart.posY + "px";
    }
}

setInterval( update_positions , update_speed);
})();
        </script>
        <script src="{{ base_url() }}/js/main.js"></script>
    </body>

</html>
